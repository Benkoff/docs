# Team
JuJa связка состоит из 4-х участников , независимо от опыта. Цель - взаимная поддержка и контроль участников 
связки для окончания тренига. Еженедельно по решению команды за плодотворную работу каждый их участников получает 
6 джуджиков.

## Технические характеристики проекта:

* JDK8
* Mongo
* SpringBoot
* SpringData
* SpringMVC
* jUnit
* FakeMongo 
* LordOfTheJars

## Общие положения:
* **TMF-D1** Хранитель - особенный тип пользователей, которые занимаются активной поддержкой и развитием определенных 
направлений на курсе.
* **TMF-D2** Связка состоит из 4х человек.
* **TMF-D3** Участники выбираются вручную. Участник может состоять только в одной команде.
* **TMF-D4** В случае отсутствия активности связка расформировывается
* **TMF-D5** В случае успешно выполненной операции для void методов юзер получает ответ 200 OK. (
“void метод” - это endpoint, который не подразумевает возврата результата. 
Смотри детальнее [тут](https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_HTTP#200))

### TMF-F1

***TMF-F1 Я как хранитель хочу иметь возможность создавать связки. 
Связка это команда состоящая из четырех человек, которая за свою работу может получить 6 джуджиков один раз в неделю.***

* <del>TMF-F1-D1 Операцию могут выполнять не все пользователи. Только хранители TMF-D1.</del> (в этой версии не проверяем)
* TMF-F1-D2 Хранитель в комманде указывает четырех пользователей, будущих участников связки.
* TMF-F1-D3 Необходимо проверять чтобы пользователь не состоял уже в другой связке.
* TMF-F1-D4 Номер для связки определяется инкрементом для наибольшего существующего номера связки в БД.
* TMF-F1-D5 Состав участников связки не меняется.
* TMF-F1-D6 У связки есть даты начала и окончания активности. Активной считается связка с пустой датой окончания 
активности.

* TMF-F1-URL
```
    url - "/teams/create"
    method - POST
```
* TMF-F1-REQ
```
    {
        "from" : "..."
        "user1" : "..."
        "user2" : "..."
        "user3" : "..."
        "user4" : "..."
    }
```
* TMF-F1-RSP
```
    ["..."] - один элемент в массиве(id - номер сформированой комманды)
```

* TMF-F1-S1-REQ ``/create-team @slack1_nick_name1 @slack_nick_name2 @slack_nick_name3 @slack_nick_name4``
* TMF-F1-S2-RSP команда @slack1_nick_name1 @slack_nick_name2 @slack_nick_name3 @slack_nick_name4 с {teamId} создана.
* TMF-F1-S3-RSP команда не создана.
### TMF-F2
***TMF-F2 Я как хранитель хочу иметь возможность расформировывать(удалять) связки.***

* <del>TMF-F2-D1 Операцию могут выполнять только хранители TMF-D1.</del> (в этой версии не проверяем)
* TMF-F2-D2 Хранитель указывает id связки которую необходимо расформировать.

* TMF-F2-URL
```
    url - "/teams/delete"
    method - PUT
```
* TMF-F2-REQ
```
    {
        "from" : "..."
        "teamId" : "..."
    }
```
* TMF-F2-RSP
```
    ["..."] - TMF-D5
```
* TMF-F2-S1-REQ ``/team-delete teamId``
* TMF-F2-S2-RSP Команда @slack_nick_name, @slack_nick_name2, @slack_nick_name3, @slack_nick_name4 расформирована
* GMF-F2-S3-RSP Активной команды с Id teamId не существует 

### TMF-F3
***TMF-F3 Я как хранитель хочу иметь возможность получить список всех активных связок с id и участниками.***

* TMF-F3-D1 Операцию может выполнить только хранитель.
* TMF-F3-D2 Результатом выполнения этой комманды должен быть список, содержащий в себе все активные связки с id и 
участниками.

* TMF-F3-URL
```
    url - "/teams"
    method - GET
```
* TMF-F3-REQ
```
   {}
```
* TMF-F3-RSP
```
    [
    {
    "id": .... ,
    [uuid1, uuid2, uuid3, uuid4]
    },
    {
    "id": .... ,
    [uuid1, uuid2, uuid3, uuid4]
    },
    ] - список id команд и uuid их участников 
```
* TMF-F3-S1-REQ ``/team-active``
* TMF-F3-S2-RSP Список активных команд: Id1 @slack_nick_name, @slack_nick_name2, @slack_nick_name3, @slack_nick_name4.
Id2 Id1 @slack_nick_name, @slack_nick_name2, @slack_nick_name3, @slack_nick_name4. ...
* GMF-F3-S3-RSP Нет активных команд

### TMF-F4
***TMF-F4 Я как пользователь хочу иметь возможность получить список всех участников моей связки.***

* TMF-F4-D1 Операцию может выполнить любой пользователь.
* TMF-F4-D2 Результатом выполнения этой комманды должен быть список, содержащий в себе uuid всех участников связки 
текущего пользователя, или текст ошибки.  

* TMF-F4-URL
```
    url - "/teams/team"
    method - POST
```
* TMF-F4-REQ
```
    {
        "from" : "..." - uuid участника команды
    }
```
* TMF-F4-RSP
```
    [uuid1, uuid2, uuid3, uuid4] - uuid всех участников команды
```
* TMF-F4-S1-REQ ``/my-team``
* TMF-F4-S2-RSP Состав Вашей команды: @slack_nick_name, @slack_nick_name2, @slack_nick_name3, @slack_nick_name4
* GMF-F4-S3-RSP Текст ошибки - "Вы не состоите в команде" 

### TMF-F5
***TMF-F5 Я как пользователь хочу иметь возможность раз в неделю начислить по 6 баллов за командную работу всем 
участникам команды.***

* TMF-F5-D1 Операцию может выполнить любой пользователь.
* TMF-F5-D2 Результатом выполнения этой комманды должен быть список, содержащий в себе uuid всех участников связки 
текущего пользователя, или текст ошибки.  

* TMF-F5-URL
```
    url - "/teams/addpoints"
    method - POST
```
* TMF-F5-REQ
```
    {
        "from" : "..." - uuid участника команды
    }
```
* TMF-F5-RSP
    ```
    [
        “...”,
        “...”,
        “...”,
        “...” 
    ] - список uuid участников команды
    ```
* TMF-F5-S1-REQ ``/team-add-points``
* TMF-F5-S2-RSP Спасибо. Мы поблагодарили всех участников за работу в команде: @slack_nick_name1, @slack_nick_name2, 
@slack_nick_name3, @slack_nick_name4
* TMF-F6-S3-RSP Текст ошибки - "Вы не состоите в команде" или  "За эту неделю команде @slack_nick_name, 
@slack_nick_name2, @slack_nick_name3, @slack_nick_name4 баллы уже начислены"